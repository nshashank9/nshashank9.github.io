(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "::ng-deep svg {\n    background-color: lightgray;\n    cursor: default;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n  \n  ::ng-deep svg:not(.active):not(.ctrl) {\n    cursor: crosshair;\n  }\n  \n  ::ng-deep path.link {\n    fill: none;\n    stroke: #000;\n    stroke-width: 4px;\n    cursor: default;\n  }\n  \n  ::ng-deep svg:not(.active):not(.ctrl) path.link {\n    cursor: pointer;\n  }\n  \n  ::ng-deep path.link.selected {\n    stroke-dasharray: 10,2;\n  }\n  \n  ::ng-deep path.link.dragline {\n    pointer-events: none;\n  }\n  \n  ::ng-deep path.link.hidden {\n    stroke-width: 0;\n  }\n  \n  ::ng-deep circle.node {\n    stroke-width: 1.5px;\n    cursor: pointer;\n  }\n  \n  ::ng-deep circle.node.reflexive {\n    stroke: #000 !important;\n    stroke-width: 2.5px;\n  }\n  \n  ::ng-deep text {\n    font: 12px sans-serif;\n    pointer-events: none;\n  }\n  \n  ::ng-deep text.id {\n    text-anchor: middle;\n    font-weight: bold;\n  }\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw0QkFBNEI7SUFDNUIsZ0JBQWdCO0lBQ2hCLDBCQUEwQjtJQUMxQix1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLHFCQUFxQjtJQUNyQixrQkFBa0I7R0FDbkI7O0VBRUQ7SUFDRSxrQkFBa0I7R0FDbkI7O0VBRUQ7SUFDRSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixnQkFBZ0I7R0FDakI7O0VBRUQ7SUFDRSxnQkFBZ0I7R0FDakI7O0VBRUQ7SUFDRSx1QkFBdUI7R0FDeEI7O0VBRUQ7SUFDRSxxQkFBcUI7R0FDdEI7O0VBRUQ7SUFDRSxnQkFBZ0I7R0FDakI7O0VBRUQ7SUFDRSxvQkFBb0I7SUFDcEIsZ0JBQWdCO0dBQ2pCOztFQUVEO0lBQ0Usd0JBQXdCO0lBQ3hCLG9CQUFvQjtHQUNyQjs7RUFFRDtJQUNFLHNCQUFzQjtJQUN0QixxQkFBcUI7R0FDdEI7O0VBRUQ7SUFDRSxvQkFBb0I7SUFDcEIsa0JBQWtCO0dBQ25CIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgc3ZnIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIH1cbiAgXG4gIDo6bmctZGVlcCBzdmc6bm90KC5hY3RpdmUpOm5vdCguY3RybCkge1xuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xuICB9XG4gIFxuICA6Om5nLWRlZXAgcGF0aC5saW5rIHtcbiAgICBmaWxsOiBub25lO1xuICAgIHN0cm9rZTogIzAwMDtcbiAgICBzdHJva2Utd2lkdGg6IDRweDtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gIH1cbiAgXG4gIDo6bmctZGVlcCBzdmc6bm90KC5hY3RpdmUpOm5vdCguY3RybCkgcGF0aC5saW5rIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbiAgXG4gIDo6bmctZGVlcCBwYXRoLmxpbmsuc2VsZWN0ZWQge1xuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDEwLDI7XG4gIH1cbiAgXG4gIDo6bmctZGVlcCBwYXRoLmxpbmsuZHJhZ2xpbmUge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG4gIFxuICA6Om5nLWRlZXAgcGF0aC5saW5rLmhpZGRlbiB7XG4gICAgc3Ryb2tlLXdpZHRoOiAwO1xuICB9XG4gIFxuICA6Om5nLWRlZXAgY2lyY2xlLm5vZGUge1xuICAgIHN0cm9rZS13aWR0aDogMS41cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4gIFxuICA6Om5nLWRlZXAgY2lyY2xlLm5vZGUucmVmbGV4aXZlIHtcbiAgICBzdHJva2U6ICMwMDAgIWltcG9ydGFudDtcbiAgICBzdHJva2Utd2lkdGg6IDIuNXB4O1xuICB9XG4gIFxuICA6Om5nLWRlZXAgdGV4dCB7XG4gICAgZm9udDogMTJweCBzYW5zLXNlcmlmO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG4gIFxuICA6Om5nLWRlZXAgdGV4dC5pZCB7XG4gICAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfSJdfQ== */"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div style=\"text-align:center\">\n  <h1>\n    D3 Force Graph Editor\n  </h1>\n</div>\n\n<svg  id=\"graphContainer\"\n      width=\"100%\"\n      height=\"100%\"\n      class=\"associations\"\n      #graphContainer>\n</svg>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'ng-d3-graph-editor';
        this.width = 960;
        this.height = 600;
        this.colors = d3__WEBPACK_IMPORTED_MODULE_1__["scaleOrdinal"](d3__WEBPACK_IMPORTED_MODULE_1__["schemeCategory10"]);
        this.selectedNode = null;
        this.selectedLink = null;
        this.mousedownLink = null;
        this.mousedownNode = null;
        this.mouseupNode = null;
        this.lastNodeId = 2;
        // only respond once per keydown
        this.lastKeyDown = -1;
        this.nodes = [
            { id: 0 },
            { id: 1 },
            { id: 2 }
        ];
        this.links = [
            { source: this.nodes[0], target: this.nodes[1], left: false, right: true },
            { source: this.nodes[1], target: this.nodes[2], left: false, right: true }
        ];
    }
    AppComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        var rect = this.graphContainer.nativeElement.getBoundingClientRect();
        this.width = rect.width;
        this.svg = d3__WEBPACK_IMPORTED_MODULE_1__["select"]('#graphContainer')
            .attr('oncontextmenu', 'return false;')
            .attr('width', this.width)
            .attr('height', this.height);
        this.force = d3__WEBPACK_IMPORTED_MODULE_1__["forceSimulation"]()
            .force('link', d3__WEBPACK_IMPORTED_MODULE_1__["forceLink"]().id(function (d) { return d.id; }).distance(150))
            .force('charge', d3__WEBPACK_IMPORTED_MODULE_1__["forceManyBody"]().strength(-500))
            .force('x', d3__WEBPACK_IMPORTED_MODULE_1__["forceX"](this.width / 2))
            .force('y', d3__WEBPACK_IMPORTED_MODULE_1__["forceY"](this.height / 2))
            .on('tick', function () { return _this.tick(); });
        this.svg.append('svg:defs').append('svg:marker')
            .attr('id', 'end-arrow')
            .attr('viewBox', '0 -5 10 10')
            .attr('refX', 6)
            .attr('markerWidth', 3)
            .attr('markerHeight', 3)
            .attr('orient', 'auto')
            .append('svg:path')
            .attr('d', 'M0,-5L10,0L0,5')
            .attr('fill', '#000');
        this.path = this.svg.append('svg:g').selectAll('path');
        this.circle = this.svg.append('svg:g').selectAll('g')
            .on('click', function (d) {
            console.log('-----circle---', d);
            _this.click(d, 1, null);
        });
        this.restart();
    };
    AppComponent.prototype.clickCircle = function (source) {
        console.log('----');
    };
    // update force layout (called automatically each iteration)
    AppComponent.prototype.tick = function () {
        var _this = this;
        // draw directed edges with proper padding from node centers
        this.path.attr('d', function (d) {
            var deltaX = d.target.x - d.source.x;
            var deltaY = d.target.y - d.source.y;
            var dist = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
            var normX = deltaX / dist;
            var normY = deltaY / dist;
            var sourcePadding = d.left ? 17 : 12;
            var targetPadding = d.right ? 17 : 12;
            var sourceX = d.source.x + (sourcePadding * normX);
            var sourceY = d.source.y + (sourcePadding * normY);
            var targetX = d.target.x - (targetPadding * normX);
            var targetY = d.target.y - (targetPadding * normY);
            return "M" + sourceX + "," + sourceY + "L" + targetX + "," + targetY;
        });
        this.circle.attr('transform', function (d) { return "translate(" + d.x + "," + d.y + ")"; })
            .on('click', function (d) {
            console.log('-----circle---', d);
            _this.click(d, 1, null);
        });
    };
    AppComponent.prototype.resetMouseVars = function () {
        this.mousedownNode = null;
        this.mouseupNode = null;
        this.mousedownLink = null;
    };
    // update graph (called when needed)
    AppComponent.prototype.restart = function () {
        var _this = this;
        // path (link) group
        this.path = this.path.data(this.links);
        // update existing links
        this.path.classed('selected', function (d) { return d === _this.selectedLink; })
            .style('marker-start', function (d) { return d.left ? 'url(#start-arrow)' : ''; })
            .style('marker-end', function (d) { return d.right ? 'url(#end-arrow)' : ''; });
        // remove old links
        this.path.exit().remove();
        // add new links
        this.path = this.path.enter().append('svg:path')
            .attr('class', 'link')
            .classed('selected', function (d) { return d === _this.selectedLink; })
            .style('marker-start', function (d) { return d.left ? 'url(#start-arrow)' : ''; })
            .style('marker-end', function (d) { return d.right ? 'url(#end-arrow)' : ''; })
            .merge(this.path);
        // circle (node) group
        // NB: the function arg is crucial here! nodes are known by id, not by index!
        this.circle = this.circle.data(this.nodes, function (d) { return d.id; });
        //this.circle.on('click', () => this.clickCircle());
        // update existing nodes (reflexive & selected visual states)
        this.circle.selectAll('circle')
            .style('fill', function (d) { return (d === _this.selectedNode) ? d3__WEBPACK_IMPORTED_MODULE_1__["rgb"](_this.colors(d.id)).brighter().toString() : _this.colors(d.id); });
        //.classed('reflexive', (d) => d.reflexive);
        // remove old nodes
        this.circle.exit().remove();
        // add new nodes
        var g = this.circle.enter().append('svg:g');
        g.append('svg:circle')
            .attr('class', 'node')
            .attr('r', 12)
            .style('fill', function (d) { return (d === _this.selectedNode) ? d3__WEBPACK_IMPORTED_MODULE_1__["rgb"](_this.colors(d.id)).brighter().toString() : _this.colors(d.id); })
            .style('stroke', function (d) { return d3__WEBPACK_IMPORTED_MODULE_1__["rgb"](_this.colors(d.id)).darker().toString(); });
        // show node IDs
        g.append('svg:text')
            .attr('x', 0)
            .attr('y', 4)
            .attr('class', 'id')
            .text(function (d) { return d.id; });
        g.append('svg:text')
            .attr('x', 33)
            .attr('y', 32)
            .attr('class', 'id')
            .text(function (d) { return "node number" + " " + d.id; });
        this.circle = g.merge(this.circle);
        // set the graph in motion
        this.force
            .nodes(this.nodes)
            .force('link').links(this.links);
        this.force.alphaTarget(0.3).restart();
    };
    AppComponent.prototype.click = function (dataItem, value, source) {
        var _this = this;
        console.log('dataItem', dataItem);
        this.svg.classed('active', true);
        if (d3__WEBPACK_IMPORTED_MODULE_1__["event"].ctrlKey || this.mousedownNode || this.mousedownLink)
            return;
        var point = d3__WEBPACK_IMPORTED_MODULE_1__["mouse"](d3__WEBPACK_IMPORTED_MODULE_1__["event"].currentTarget);
        // const point = d3.1mouse(this);
        var id = dataItem != undefined ? dataItem.id : ++this.lastNodeId + 1;
        var val = value != undefined ? value : 0;
        var nd = this.nodes[dataItem.id + 1];
        var ln = this.links[dataItem.id + 1];
        this.nodes.filter(function (d) {
            if (d.id === dataItem.id + 1) {
                console.log('1. matched', d);
                _this.nodes.splice(d.id, 1);
            }
        });
        this.links.filter(function (d) {
            console.log('linkkkk ', d.source.id);
            console.log('linkkkk2 ', dataItem.id);
            if (d.source.id === dataItem.id) {
                _this.links.splice(d.source.id, 1);
                console.log('matched', d);
            }
        });
        console.log('nd-->', nd);
        var node = { id: this.nodes.length + 1, reflexive: false, x: point[0], y: point[1] };
        var link = { source: node, target: this.nodes[dataItem.id], left: false, right: true };
        this.nodes.push(node);
        this.links.push(link);
        var node2 = { id: this.nodes.length + 1, reflexive: false, x: point[0], y: point[1] };
        var link2 = { source: node2, target: node, left: false, right: true };
        this.nodes.push(node2);
        this.links.push(link2);
        var node3 = { id: nd.id, reflexive: false, x: point[0], y: point[1] };
        var link3 = { source: node3, target: node2, left: false, right: true };
        this.nodes.push(node3);
        this.links.push(link3);
        this.restart();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('graphContainer'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], AppComponent.prototype, "graphContainer", void 0);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_2__["AppComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_2__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\shashank\Desktop\ng-d3-graph-editor-master\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map